<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products - EchoSpark</title>
    <link rel="icon" type="image/svg+xml" href="/icons/favicon.svg">
    <link rel="icon" type="image/png" href="/favicon.png">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/styles.css">
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BP724NMT95"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-BP724NMT95');
</script>
<body>
    <!-- Animated Background -->
    <div class="animated-bg">
        <div class="gradient-orb orb-1"></div>
        <div class="gradient-orb orb-2"></div>
        <div class="gradient-orb orb-3"></div>
    </div>

    <!-- Navigation -->
    <header class="header">
        <nav class="nav-container">
            <a href="/" class="logo-container">
                <svg class="logo-icon" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20 5L35 12V28L20 35L5 28V12L20 5Z" stroke="url(#logoGradient)" stroke-width="2" fill="none" class="logo-path"/>
                    <path d="M20 9L22 20L18 20Z" fill="url(#logoGradient)" class="logo-center"/>
                    <path d="M20 31L22 20L18 20Z" fill="url(#logoGradient)" class="logo-center"/>
                    <path d="M31 20L20 18L20 22Z" fill="url(#logoGradient)" class="logo-center"/>
                    <path d="M9 20L20 18L20 22Z" fill="url(#logoGradient)" class="logo-center"/>
                    <path d="M27 13L21.5 21.5L18.5 18.5Z" fill="url(#logoGradient)" class="logo-center"/>
                    <path d="M27 27L21.5 18.5L18.5 21.5Z" fill="url(#logoGradient)" class="logo-center"/>
                    <path d="M13 27L18.5 18.5L21.5 21.5Z" fill="url(#logoGradient)" class="logo-center"/>
                    <path d="M13 13L18.5 21.5L21.5 18.5Z" fill="url(#logoGradient)" class="logo-center"/>
                    <circle cx="20" cy="20" r="1.5" fill="url(#logoGradient)" class="logo-center"/>
                    <defs>
                        <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#6366f1;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#8b5cf6;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                </svg>
                <span class="logo-text">EchoSpark<span class="logo-sub">RPO</span></span>
            </a>
            <ul class="nav-links">
                <li><a href="/about" class="nav-link">About</a></li>
                <li><a href="/products" class="nav-link">Products</a></li>
                <li><a href="/#domains" class="nav-link">Domains</a></li>
                <li><a href="/careers" class="nav-link">Careers</a></li>
                <li><a href="/#contact" class="nav-link">Contact</a></li>
            </ul>
            <button class="menu-toggle" aria-label="Toggle Navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </nav>
    </header>

    <!-- Products Hero with RPO Guarantee -->
    <section class="service-hero" style="padding-bottom: 3rem;">
        <div class="section-container">
            <div class="service-hero-content">
                <div class="service-badge">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="badge-icon">
                        <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
                        <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
                        <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
                    </svg>
                    <span>Product Ecosystem</span>
                </div>
                <h1 class="service-title">Built for Resilience. Engineered for Performance.</h1>
                <p class="service-description">
                    Every EchoSpark product carries the <strong style="color: var(--text-primary);">ESRPO Guarantee</strong>: 
                    systems architected for resilience, optimized for performance, and hardened for operational excellence 
                    across quantum computing, AI/ML, and cybersecurity.
                </p>
            </div>
        </div>
    </section>

    <!-- RPO Principles Banner -->
    <section class="products-principles">
        <div class="section-container">
            <div class="principles-strip">
                <div class="principle-chip">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-width="1.5"/>
                        <path d="M12 6V12L16 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                    <div>
                        <strong>Resilient by Design</strong>
                        <span>Fault tolerance and graceful degradation built into every layer</span>
                    </div>
                </div>
                <div class="principle-chip">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M13 2L3 14H12L11 22L21 10H12L13 2Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <div>
                        <strong>Performance First</strong>
                        <span>Optimized throughput and sub-millisecond response at scale</span>
                    </div>
                </div>
                <div class="principle-chip">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
                        <path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <div>
                        <strong>Operational Excellence</strong>
                        <span>Continuous monitoring, adaptive learning, and zero-downtime updates</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Network Constellation Visualization -->
    <section class="products-constellation">
        <div class="section-container">
            <canvas id="constellationCanvas"></canvas>
        </div>
    </section>

    <!-- Product Filter + Grid -->
    <section class="products-section">
        <div class="section-container">
            <div class="section-header">
                <span class="section-label">Our Products</span>
                <h2 class="section-title">The ESRPO Product Ecosystem</h2>
                <p class="section-description">Integrated tools and platforms spanning quantum, AI, and cybersecurity</p>
            </div>

            <!-- Filter Tabs -->
            <div class="product-filters" id="productFilters">
                <button class="filter-btn active" data-filter="all">All</button>
                <button class="filter-btn" data-filter="quantum">Quantum</button>
                <button class="filter-btn" data-filter="ai-ml">AI / ML</button>
                <button class="filter-btn" data-filter="cybersecurity">Cybersecurity</button>
            </div>

            <!-- Product Grid (rendered by JS) -->
            <div class="product-grid" id="productGrid"></div>
        </div>
    </section>

    <!-- CTA -->
    <section class="cta-section">
        <div class="section-container">
            <div class="cta-content">
                <h2>Ready to Deploy Resilient Technology?</h2>
                <p>Contact us to learn how EchoSpark products can strengthen your technology stack.</p>
                <a href="/#contact" class="btn btn-primary">Get in Touch</a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-logo">
                <svg class="logo-icon" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20 5L35 12V28L20 35L5 28V12L20 5Z" stroke="url(#footerLogoGradient)" stroke-width="2" fill="none"/>
                    <path d="M20 9L22 20L18 20Z" fill="url(#footerLogoGradient)"/>
                    <path d="M20 31L22 20L18 20Z" fill="url(#footerLogoGradient)"/>
                    <path d="M31 20L20 18L20 22Z" fill="url(#footerLogoGradient)"/>
                    <path d="M9 20L20 18L20 22Z" fill="url(#footerLogoGradient)"/>
                    <path d="M27 13L21.5 21.5L18.5 18.5Z" fill="url(#footerLogoGradient)"/>
                    <path d="M27 27L21.5 18.5L18.5 21.5Z" fill="url(#footerLogoGradient)"/>
                    <path d="M13 27L18.5 18.5L21.5 21.5Z" fill="url(#footerLogoGradient)"/>
                    <path d="M13 13L18.5 21.5L21.5 18.5Z" fill="url(#footerLogoGradient)"/>
                    <circle cx="20" cy="20" r="1.5" fill="url(#footerLogoGradient)"/>
                    <defs>
                        <linearGradient id="footerLogoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#6366f1;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#8b5cf6;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                </svg>
                <span>EchoSpark<span class="logo-sub">RPO</span></span>
            </div>
            <p class="footer-text">&copy; <span id="current-year">2026</span> EchoSpark. All rights reserved.</p>
        </div>
    </footer>

    <!-- Live Chat Widget -->
    <div class="chat-widget">
        <div class="chat-button" id="chatButton" aria-label="Open Chat">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </div>
        <div class="chat-window" id="chatWindow">
            <div class="chat-header">
                <div class="chat-header-content">
                    <div class="chat-header-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="chat-header-text">
                        <h3>EchoSpark Support</h3>
                        <p>We're here to help</p>
                    </div>
                </div>
                <button class="chat-close" id="chatClose" aria-label="Close Chat">&times;</button>
            </div>
            <div class="chat-messages" id="chatMessages">
                <div class="chat-message bot-message">
                    <div class="message-content">
                        <p>Hello! I'm here to help answer questions about EchoSpark's services. How can I assist you today?</p>
                    </div>
                </div>
            </div>
            <div class="chat-input-container">
                <input type="text" id="chatInput" class="chat-input" placeholder="Type your message..." autocomplete="off">
                <button class="chat-send" id="chatSend" aria-label="Send Message">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <script src="/script.js"></script>
    <script>
    /* ================================================================
       ECHOSPARK PRODUCTS — DATA-DRIVEN PRODUCT CATALOG
       ================================================================
       To add a new product, simply add an object to the PRODUCTS array.
       Required fields:
         - id:          unique string identifier
         - name:        product display name
         - tagline:     short one-liner
         - description: 2-3 sentence description
         - category:    "quantum" | "ai-ml" | "cybersecurity" | ["quantum","ai-ml"] (array for multi-category)
         - status:      "live" | "development" | "beta" | "coming-soon"
         - icon:        SVG path string (24x24 viewBox)
       Optional fields:
         - link:        custom URL for "Learn More" (defaults to /#contact)
       ================================================================ */

    const PRODUCTS = [
        {
            id: 'echospark-core',
            name: 'EchoSpark Core',
            tagline: 'Resilient Performance Operations Framework',
            description: 'The foundational framework that powers every EchoSpark deployment. EchoSpark Core provides real-time health monitoring, automated failover orchestration, and performance optimization across hybrid infrastructure.',
            category: 'ai-ml',
            status: 'development',
            icon: '<path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/><path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/><path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>'
        },
        {
            id: 'quantum-shield',
            name: 'QuantumShield',
            tagline: 'Post-Quantum Cryptography Migration Platform',
            description: 'Automated discovery, risk assessment, and migration tooling for transitioning enterprise cryptographic infrastructure to post-quantum algorithms. Supports NIST PQC standards with zero-downtime deployment.',
            category: 'quantum',
            status: 'development',
            icon: '<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/><circle cx="12" cy="11" r="2" stroke="currentColor" stroke-width="1.5"/>'
        },
        {
            id: 'agent-forge',
            name: 'AgentForge',
            tagline: 'Agentic AI Orchestration Platform',
            description: 'Design, deploy, and manage autonomous AI agent networks with built-in safety rails, human-in-the-loop controls, and multi-agent coordination. Production-grade agentic infrastructure for the enterprise.',
            category: 'ai-ml',
            status: 'development',
            icon: '<circle cx="12" cy="5" r="2" stroke="currentColor" stroke-width="1.5"/><circle cx="5" cy="19" r="2" stroke="currentColor" stroke-width="1.5"/><circle cx="19" cy="19" r="2" stroke="currentColor" stroke-width="1.5"/><path d="M12 7v4M10 13l-3.5 4.5M14 13l3.5 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><circle cx="12" cy="13" r="2" stroke="currentColor" stroke-width="1.5"/>'
        },
        {
            id: 'sentinel-mesh',
            name: 'SentinelMesh',
            tagline: 'Zero Trust Network Architecture Platform',
            description: 'End-to-end Zero Trust implementation with microsegmentation, continuous authentication, and real-time policy enforcement. Deploys across cloud, on-prem, and edge environments with a unified control plane.',
            category: 'cybersecurity',
            status: 'development',
            icon: '<path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-width="1.5"/><path d="M8 12L11 15L16 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>'
        },
        {
            id: 'quantumbench',
            name: 'QuantumBench',
            tagline: 'Quantum Knowledge Benchmark for AI/LLM Systems',
            description: 'The definitive benchmark dataset and evaluation framework for assessing language models on quantum physics and quantum information science. Standardized Q&A pairs from foundational through graduate-level topics with automated scoring and visualization.',
            category: ['quantum', 'ai-ml'],
            status: 'live',
            icon: '<path d="M4 6h16M4 12h16M4 18h10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><circle cx="19" cy="18" r="3" stroke="currentColor" stroke-width="1.5"/><path d="M19 16v4M17 18h4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>',
            link: '/qb'
        },
        {
            id: 'rql-simulator',
            name: 'RQL Simulator',
            tagline: 'Reciprocal Quantum Logic Gate Simulation Platform',
            description: 'A comprehensive simulation environment for Reciprocal Quantum Logic (RQL) gates built on superconductivity modeling with Josephson junctions. Provides Hamiltonian diagonalization, flux sweep analysis, anharmonicity calculation, and interactive visualization — engineered for systems targeting 1M-qubit scale.',
            category: 'quantum',
            status: 'live',
            link: '/rqlsim',
            icon: '<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z" stroke="currentColor" stroke-width="1.5" fill="none"/><path d="M8 12h8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12 8v8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><circle cx="8" cy="12" r="1.5" fill="currentColor"/><circle cx="16" cy="12" r="1.5" fill="currentColor"/><circle cx="12" cy="8" r="1.5" fill="currentColor"/><circle cx="12" cy="16" r="1.5" fill="currentColor"/>'
        },
        {
            id: 'neural-ops',
            name: 'NeuralOps',
            tagline: 'ML Operations & Observability Suite',
            description: 'Full-lifecycle ML operations platform with model versioning, drift detection, automated retraining pipelines, and real-time inference monitoring. Built for teams shipping models to production at scale.',
            category: 'ai-ml',
            status: 'development',
            icon: '<path d="M3 12h4l3-9 4 18 3-9h4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>'
        },
        {
            id: 'threat-pulse',
            name: 'ThreatPulse',
            tagline: 'AI-Driven Threat Intelligence & Response',
            description: 'Continuous threat landscape analysis powered by machine learning. ThreatPulse correlates signals across your attack surface, generates actionable intelligence, and orchestrates automated incident response workflows.',
            category: 'cybersecurity',
            status: 'development',
            icon: '<path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/><line x1="12" y1="9" x2="12" y2="13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><line x1="12" y1="17" x2="12.01" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>'
        },
        {
            id: 'knowledge-vault',
            name: 'KnowledgeVault',
            tagline: 'AI-Agentic Knowledge Management Platform',
            description: 'Enterprise knowledge management powered by a Stratified Autonomous Agent Hierarchy (SAAH). AI agents ingest, organize, search, and understand your knowledge base with semantic search, automated summarization, and context-aware retrieval.',
            category: 'ai-ml',
            status: 'beta',
            link: '/kv',
            icon: '<rect x="3" y="11" width="18" height="11" rx="2" ry="2" stroke="currentColor" stroke-width="1.5"/><path d="M7 11V7a5 5 0 0110 0v4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><circle cx="12" cy="16" r="1" fill="currentColor"/>'
        }
    ];

    /* ----------------------------------------------------------------
       STATUS BADGES
    ---------------------------------------------------------------- */
    const STATUS_CONFIG = {
        'live':        { label: 'Live',             cls: 'status-live' },
        'development': { label: 'In Development', cls: 'status-dev' },
        'beta':        { label: 'Beta',            cls: 'status-beta' },
        'coming-soon': { label: 'Coming Soon',     cls: 'status-coming' }
    };

    const CATEGORY_LABELS = {
        'quantum':        'Quantum',
        'ai-ml':          'AI / ML',
        'cybersecurity':  'Cybersecurity'
    };

    const CATEGORY_COLORS = {
        'quantum':        '#6366f1',
        'ai-ml':          '#06b6d4',
        'cybersecurity':  '#ec4899'
    };

    /* ----------------------------------------------------------------
       RENDER PRODUCT GRID
    ---------------------------------------------------------------- */
    const grid = document.getElementById('productGrid');

    /* Helper: normalise category to array */
    function catArray(c) { return Array.isArray(c) ? c : [c]; }
    function matchesFilter(p, filter) {
        if (filter === 'all') return true;
        return catArray(p.category).includes(filter);
    }

    const STATUS_ORDER = { 'live': 0, 'beta': 1, 'development': 2, 'coming-soon': 3 };

    function renderProducts(filter) {
        const filtered = PRODUCTS
            .filter(p => matchesFilter(p, filter))
            .sort((a, b) => (STATUS_ORDER[a.status] ?? 9) - (STATUS_ORDER[b.status] ?? 9));

        grid.innerHTML = '';
        filtered.forEach((p, i) => {
            const cats = catArray(p.category);
            const st = STATUS_CONFIG[p.status] || STATUS_CONFIG['development'];
            const primaryColor = CATEGORY_COLORS[cats[0]] || '#6366f1';
            const ctaLink = p.link || '/#contact';

            /* Build category badges for multi-category products */
            const catBadges = cats.map(c => {
                const col = CATEGORY_COLORS[c] || '#6366f1';
                const lbl = CATEGORY_LABELS[c] || c;
                return `<span class="product-category" style="color: ${col};">${lbl}</span>`;
            }).join(' ');

            /* Accent gradient uses first two category colors if multi */
            const accentEnd = cats.length > 1
                ? CATEGORY_COLORS[cats[1]] || primaryColor
                : primaryColor + '88';

            const card = document.createElement('div');
            card.className = 'product-card';
            card.style.animationDelay = `${i * 0.08}s`;
            card.innerHTML = `
                <div class="product-card-accent" style="background: linear-gradient(90deg, ${primaryColor}, ${accentEnd});"></div>
                <div class="product-card-header">
                    <div class="product-icon" style="color: ${primaryColor};">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">${p.icon}</svg>
                    </div>
                    <div class="product-meta">
                        ${catBadges}
                        <span class="product-status ${st.cls}">${st.label}</span>
                    </div>
                </div>
                <h3 class="product-name">${p.name}</h3>
                <p class="product-tagline">${p.tagline}</p>
                <p class="product-desc">${p.description}</p>
                <div class="product-card-footer">
                    <a href="${ctaLink}" class="product-cta">Learn More <span>→</span></a>
                </div>
            `;
            grid.appendChild(card);
        });
    }

    renderProducts('all');

    /* ----------------------------------------------------------------
       FILTER TABS
    ---------------------------------------------------------------- */
    document.getElementById('productFilters').addEventListener('click', e => {
        if (!e.target.classList.contains('filter-btn')) return;
        document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
        e.target.classList.add('active');
        renderProducts(e.target.dataset.filter);
    });

    /* ----------------------------------------------------------------
       CONSTELLATION CANVAS — enhanced interactive network graph
    ---------------------------------------------------------------- */
    const canvas = document.getElementById('constellationCanvas');
    const ctx = canvas.getContext('2d');
    let nodes = [];
    let bgParticles = [];
    let edgeParticles = [];
    let mouse = { x: -999, y: -999 };
    let hovered = null;
    let time = 0;
    let raf;
    const DPR = Math.min(window.devicePixelRatio || 1, 2);

    /* --- Helpers --- */
    function hexToRgb(hex) {
        const r = parseInt(hex.slice(1,3),16);
        const g = parseInt(hex.slice(3,5),16);
        const b = parseInt(hex.slice(5,7),16);
        return {r,g,b};
    }
    function rgba(hex, a) {
        const {r,g,b} = hexToRgb(hex);
        return `rgba(${r},${g},${b},${a})`;
    }

    /* --- Init --- */
    function initConstellation() {
        const rect = canvas.parentElement.getBoundingClientRect();
        const W = rect.width;
        const H = 480;
        canvas.width = W * DPR;
        canvas.height = H * DPR;
        canvas.style.width = W + 'px';
        canvas.style.height = H + 'px';
        ctx.setTransform(DPR, 0, 0, DPR, 0, 0);

        const cx = W / 2;
        const cy = H / 2;
        const n = PRODUCTS.length;

        /* Place nodes in an elliptical orbital layout */
        const rx = Math.min(W * 0.38, 340);
        const ry = Math.min(H * 0.32, 160);
        nodes = PRODUCTS.map((p, i) => {
            const angle = (Math.PI * 2 / n) * i - Math.PI / 2;
            const cats = catArray(p.category);
            const col = CATEGORY_COLORS[cats[0]] || '#6366f1';
            const col2 = cats.length > 1 ? (CATEGORY_COLORS[cats[1]] || col) : null;
            const bx = cx + Math.cos(angle) * rx;
            const by = cy + Math.sin(angle) * ry;
            return {
                x: bx, y: by,
                baseX: bx, baseY: by,
                angle: angle,
                orbitPhase: Math.random() * Math.PI * 2,
                r: 8,
                color: col,
                color2: col2,
                name: p.name,
                status: p.status,
                vx: 0, vy: 0,
            };
        });

        /* Background ambient particles */
        bgParticles = [];
        for (let i = 0; i < 80; i++) {
            bgParticles.push({
                x: Math.random() * W,
                y: Math.random() * H,
                r: Math.random() * 1.5 + 0.3,
                speed: Math.random() * 0.15 + 0.05,
                angle: Math.random() * Math.PI * 2,
                alpha: Math.random() * 0.3 + 0.05,
                drift: (Math.random() - 0.5) * 0.002,
            });
        }

        /* Edge traveling particles */
        edgeParticles = [];
        for (let i = 0; i < nodes.length; i++) {
            for (let j = i + 1; j < nodes.length; j++) {
                if (Math.random() < 0.5) {
                    edgeParticles.push({
                        from: i, to: j,
                        t: Math.random(),
                        speed: 0.002 + Math.random() * 0.003,
                        dir: Math.random() > 0.5 ? 1 : -1,
                    });
                }
            }
        }
    }

    /* --- Draw --- */
    function drawConstellation() {
        const W = canvas.width / DPR;
        const H = canvas.height / DPR;
        ctx.clearRect(0, 0, W, H);
        time += 0.016;

        /* ---------- Background particles ---------- */
        for (const p of bgParticles) {
            p.x += Math.cos(p.angle) * p.speed;
            p.y += Math.sin(p.angle) * p.speed;
            p.angle += p.drift;
            if (p.x < -5) p.x = W + 5;
            if (p.x > W + 5) p.x = -5;
            if (p.y < -5) p.y = H + 5;
            if (p.y > H + 5) p.y = -5;

            /* Subtle brightening near mouse */
            let a = p.alpha;
            const mdx = p.x - mouse.x, mdy = p.y - mouse.y;
            const mDist = Math.sqrt(mdx*mdx + mdy*mdy);
            if (mDist < 150) a += (1 - mDist / 150) * 0.25;

            ctx.beginPath();
            ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
            ctx.fillStyle = `rgba(160, 170, 255, ${a})`;
            ctx.fill();
        }

        /* ---------- Faint orbital ring ---------- */
        const cx = W / 2, cy = H / 2;
        const rx = Math.min(W * 0.38, 340);
        const ry = Math.min(H * 0.32, 160);
        ctx.save();
        ctx.beginPath();
        ctx.ellipse(cx, cy, rx, ry, 0, 0, Math.PI * 2);
        ctx.strokeStyle = 'rgba(99, 102, 241, 0.06)';
        ctx.lineWidth = 1;
        ctx.setLineDash([4, 8]);
        ctx.stroke();
        ctx.setLineDash([]);
        ctx.restore();

        /* ---------- Connection lines ---------- */
        const maxDist = 400;
        for (let i = 0; i < nodes.length; i++) {
            for (let j = i + 1; j < nodes.length; j++) {
                const a = nodes[i], b = nodes[j];
                const dx = b.x - a.x, dy = b.y - a.y;
                const dist = Math.sqrt(dx*dx + dy*dy);
                if (dist < maxDist) {
                    const alpha = (1 - dist / maxDist) * 0.2;
                    const grad = ctx.createLinearGradient(a.x, a.y, b.x, b.y);
                    grad.addColorStop(0, rgba(a.color, alpha));
                    grad.addColorStop(1, rgba(b.color, alpha));
                    ctx.beginPath();
                    ctx.moveTo(a.x, a.y);
                    ctx.lineTo(b.x, b.y);
                    ctx.strokeStyle = grad;
                    ctx.lineWidth = 1;
                    ctx.stroke();
                }
            }
        }

        /* ---------- Traveling edge particles ---------- */
        for (const ep of edgeParticles) {
            const a = nodes[ep.from], b = nodes[ep.to];
            const dx = b.x - a.x, dy = b.y - a.y;
            const dist = Math.sqrt(dx*dx + dy*dy);
            if (dist > maxDist) continue;

            ep.t += ep.speed * ep.dir;
            if (ep.t > 1) ep.t = 0;
            if (ep.t < 0) ep.t = 1;

            const px = a.x + dx * ep.t;
            const py = a.y + dy * ep.t;
            const col = ep.t < 0.5 ? a.color : b.color;
            const alpha = (1 - dist / maxDist) * 0.6;

            const pg = ctx.createRadialGradient(px, py, 0, px, py, 4);
            pg.addColorStop(0, rgba(col, alpha));
            pg.addColorStop(1, rgba(col, 0));
            ctx.beginPath();
            ctx.arc(px, py, 4, 0, Math.PI * 2);
            ctx.fillStyle = pg;
            ctx.fill();
        }

        /* ---------- Mouse proximity lines ---------- */
        if (mouse.x > -900) {
            for (const n of nodes) {
                const dx = mouse.x - n.x, dy = mouse.y - n.y;
                const dist = Math.sqrt(dx*dx + dy*dy);
                if (dist < 220) {
                    const alpha = (1 - dist / 220) * 0.35;
                    const grad = ctx.createLinearGradient(n.x, n.y, mouse.x, mouse.y);
                    grad.addColorStop(0, rgba(n.color, alpha));
                    grad.addColorStop(1, rgba('#8b5cf6', alpha * 0.3));
                    ctx.beginPath();
                    ctx.moveTo(n.x, n.y);
                    ctx.lineTo(mouse.x, mouse.y);
                    ctx.strokeStyle = grad;
                    ctx.lineWidth = 1.5;
                    ctx.stroke();
                }
            }
        }

        /* ---------- Center hub ---------- */
        const hubPulse = 0.5 + 0.5 * Math.sin(time * 1.5);
        const hubGrad = ctx.createRadialGradient(cx, cy, 0, cx, cy, 40 + hubPulse * 10);
        hubGrad.addColorStop(0, 'rgba(99, 102, 241, 0.08)');
        hubGrad.addColorStop(0.5, 'rgba(99, 102, 241, 0.03)');
        hubGrad.addColorStop(1, 'transparent');
        ctx.beginPath();
        ctx.arc(cx, cy, 40 + hubPulse * 10, 0, Math.PI * 2);
        ctx.fillStyle = hubGrad;
        ctx.fill();

        ctx.beginPath();
        ctx.arc(cx, cy, 3, 0, Math.PI * 2);
        ctx.fillStyle = 'rgba(99, 102, 241, 0.4)';
        ctx.fill();

        /* Connection lines from hub to each node */
        for (const n of nodes) {
            const dx = n.x - cx, dy = n.y - cy;
            const dist = Math.sqrt(dx*dx + dy*dy);
            const grad = ctx.createLinearGradient(cx, cy, n.x, n.y);
            grad.addColorStop(0, 'rgba(99, 102, 241, 0.04)');
            grad.addColorStop(1, rgba(n.color, 0.08));
            ctx.beginPath();
            ctx.moveTo(cx, cy);
            ctx.lineTo(n.x, n.y);
            ctx.strokeStyle = grad;
            ctx.lineWidth = 0.5;
            ctx.stroke();
        }

        /* ---------- Nodes ---------- */
        hovered = null;
        for (const n of nodes) {
            const dx = mouse.x - n.x, dy = mouse.y - n.y;
            const mDist = Math.sqrt(dx*dx + dy*dy);
            const isHover = mDist < 40;
            if (isHover) hovered = n;

            const pulse = 0.5 + 0.5 * Math.sin(time * 2 + n.angle * 3);
            const glowR = isHover ? 52 : 32 + pulse * 8;

            /* Outer glow */
            const g1 = ctx.createRadialGradient(n.x, n.y, 0, n.x, n.y, glowR);
            g1.addColorStop(0, rgba(n.color, isHover ? 0.25 : 0.12));
            g1.addColorStop(0.6, rgba(n.color, isHover ? 0.08 : 0.03));
            g1.addColorStop(1, 'transparent');
            ctx.beginPath();
            ctx.arc(n.x, n.y, glowR, 0, Math.PI * 2);
            ctx.fillStyle = g1;
            ctx.fill();

            /* Orbiting ring */
            ctx.save();
            ctx.translate(n.x, n.y);
            ctx.rotate(time * 0.5 + n.orbitPhase);
            ctx.beginPath();
            ctx.arc(0, 0, 14 + (isHover ? 4 : 0), 0, Math.PI * 1.2);
            ctx.strokeStyle = rgba(n.color, isHover ? 0.5 : 0.15 + pulse * 0.1);
            ctx.lineWidth = 1.5;
            ctx.stroke();
            ctx.restore();

            /* Dual-color ring for multi-category */
            if (n.color2) {
                ctx.save();
                ctx.translate(n.x, n.y);
                ctx.rotate(-time * 0.4 + n.orbitPhase + Math.PI);
                ctx.beginPath();
                ctx.arc(0, 0, 14 + (isHover ? 4 : 0), 0, Math.PI * 1.2);
                ctx.strokeStyle = rgba(n.color2, isHover ? 0.5 : 0.15 + pulse * 0.1);
                ctx.lineWidth = 1.5;
                ctx.stroke();
                ctx.restore();
            }

            /* Core dot */
            const coreR = isHover ? 10 : n.r;
            const cg = ctx.createRadialGradient(n.x - 2, n.y - 2, 0, n.x, n.y, coreR);
            cg.addColorStop(0, '#fff');
            cg.addColorStop(0.3, n.color);
            cg.addColorStop(1, rgba(n.color, 0.8));
            ctx.beginPath();
            ctx.arc(n.x, n.y, coreR, 0, Math.PI * 2);
            ctx.fillStyle = cg;
            ctx.fill();

            /* Status indicator (small ring for live products) */
            if (n.status === 'live') {
                const sr = coreR + 4 + pulse * 2;
                ctx.beginPath();
                ctx.arc(n.x, n.y, sr, 0, Math.PI * 2);
                ctx.strokeStyle = rgba('#22c55e', 0.3 + pulse * 0.2);
                ctx.lineWidth = 1;
                ctx.stroke();
            }

            /* Label */
            const labelAlpha = isHover ? 1 : 0.55;
            ctx.fillStyle = `rgba(255,255,255,${labelAlpha})`;
            ctx.font = `${isHover ? '600 13' : '500 11'}px "Space Grotesk", sans-serif`;
            ctx.textAlign = 'center';
            ctx.fillText(n.name, n.x, n.y + (isHover ? 30 : 26));

            /* Hover tooltip - tagline */
            if (isHover) {
                const product = PRODUCTS.find(pp => pp.name === n.name);
                if (product) {
                    ctx.fillStyle = 'rgba(255,255,255,0.35)';
                    ctx.font = '10px "Inter", sans-serif';
                    ctx.fillText(product.tagline, n.x, n.y + 44);
                }
            }
        }

        /* Cursor glow */
        if (mouse.x > -900) {
            const cGrad = ctx.createRadialGradient(mouse.x, mouse.y, 0, mouse.x, mouse.y, 60);
            cGrad.addColorStop(0, 'rgba(139, 92, 246, 0.06)');
            cGrad.addColorStop(1, 'transparent');
            ctx.beginPath();
            ctx.arc(mouse.x, mouse.y, 60, 0, Math.PI * 2);
            ctx.fillStyle = cGrad;
            ctx.fill();
        }
    }

    /* --- Animate --- */
    function animateConstellation() {
        const W = canvas.width / DPR;
        const H = canvas.height / DPR;

        for (const n of nodes) {
            /* Gentle orbital float */
            n.orbitPhase += 0.003;
            const drift = 6;
            const targetX = n.baseX + Math.sin(time * 0.5 + n.angle * 2) * drift;
            const targetY = n.baseY + Math.cos(time * 0.7 + n.angle * 3) * drift;

            n.vx += (targetX - n.x) * 0.01;
            n.vy += (targetY - n.y) * 0.01;

            /* Mouse attraction (gentle pull) when far, repulsion when close */
            if (mouse.x > -900) {
                const dx = n.x - mouse.x;
                const dy = n.y - mouse.y;
                const dist = Math.sqrt(dx*dx + dy*dy);
                if (dist < 80 && dist > 0) {
                    const force = (80 - dist) / 80 * 0.4;
                    n.vx += (dx / dist) * force;
                    n.vy += (dy / dist) * force;
                } else if (dist < 200 && dist > 80) {
                    const pull = (dist - 80) / 120 * 0.02;
                    n.vx -= (dx / dist) * pull;
                    n.vy -= (dy / dist) * pull;
                }
            }

            n.vx *= 0.92;
            n.vy *= 0.92;
            n.x += n.vx;
            n.y += n.vy;

            /* Keep in bounds */
            if (n.x < 30) n.x = 30;
            if (n.x > W - 30) n.x = W - 30;
            if (n.y < 30) n.y = 30;
            if (n.y > H - 30) n.y = H - 30;
        }

        drawConstellation();
        raf = requestAnimationFrame(animateConstellation);
    }

    /* --- Events --- */
    canvas.addEventListener('mousemove', e => {
        const rect = canvas.getBoundingClientRect();
        mouse.x = e.clientX - rect.left;
        mouse.y = e.clientY - rect.top;
        canvas.style.cursor = hovered ? 'pointer' : 'crosshair';
    });

    canvas.addEventListener('mouseleave', () => {
        mouse.x = -999;
        mouse.y = -999;
    });

    canvas.addEventListener('click', () => {
        if (hovered) {
            const product = PRODUCTS.find(p => p.name === hovered.name);
            if (product) {
                const link = product.link || '/#contact';
                window.location.href = link;
            }
        }
    });

    canvas.addEventListener('touchmove', e => {
        const rect = canvas.getBoundingClientRect();
        mouse.x = e.touches[0].clientX - rect.left;
        mouse.y = e.touches[0].clientY - rect.top;
    });
    canvas.addEventListener('touchend', () => {
        mouse.x = -999;
        mouse.y = -999;
    });

    const resizeObserver = new ResizeObserver(() => {
        initConstellation();
    });
    resizeObserver.observe(canvas.parentElement);
    initConstellation();
    animateConstellation();
    </script>
</body>
</html>
